{"version":3,"file":"react-three-gui.esm.js","sources":["../src/controls/BaseControl.tsx","../src/controls/BooleanControl.tsx","../src/controls/ButtonControl.tsx","../src/controls/ColorControl.tsx","../src/utils/index.ts","../src/controls/NumberControl.tsx","../src/controls/SelectControl.tsx","../src/controls/StringControl.tsx","../src/controls/XYPadControl.tsx","../src/components/ControlItem.tsx","../src/components/ControlGroup.tsx","../src/Controls.tsx","../src/hooks/useControl.ts","../src/index.ts"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\ntype SCProps = {\n  stack?: boolean;\n  flexLabel?: boolean;\n};\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 8px 0;\n`;\n\nconst Label = styled.label<SCProps>`\n  display: flex;\n  font-family: sans-serif;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.4);\n  width: 56px;\n  user-select: none;\n  ${props => (props.flexLabel === true ? 'flex: 1;' : '')}\n`;\n\nconst Content = styled.div<SCProps>`\n  display: flex;\n  ${props => (props.flexLabel !== true ? 'flex: 1;' : '')}\n  justify-content: flex-end;\n  padding: 0 8px;\n`;\n\nconst Value = styled.div<SCProps>`\n  display: flex;\n  font-family: sans-serif;\n  white-space: nowrap;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.75);\n  justify-content: flex-end;\n  ${props => (props.stack ? 'flex: 1;' : '')}\n  ${props => (props.stack ? '' : 'width: 42px;')}\n`;\n\ntype BaseControlProps = {\n  label?: string;\n  flexLabel?: boolean;\n  value?: string;\n  children?: any;\n  stack?: boolean;\n  htmlFor?: any;\n};\n\nexport function BaseControl({\n  htmlFor,\n  label,\n  flexLabel,\n  value,\n  stack,\n  children,\n}: BaseControlProps) {\n  if (stack) {\n    return (\n      <div>\n        <Row>\n          <Label flexLabel={flexLabel}>{label}</Label>\n          <Value stack flexLabel={flexLabel}>\n            {value}\n          </Value>\n        </Row>\n        {children}\n      </div>\n    );\n  }\n\n  return (\n    <Row>\n      <Label flexLabel={flexLabel} htmlFor={htmlFor}>\n        {label}\n      </Label>\n      <Content flexLabel={flexLabel}>{children}</Content>\n      {typeof value !== 'undefined' && <Value>{value}</Value>}\n    </Row>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { BaseControl } from './BaseControl';\n\nconst FakeCheckbox = styled.label`\n  height: 16px;\n  width: 16px;\n  border: 2px solid rgba(0, 0, 0, 0.065);\n  border-radius: 4px;\n  position: relative;\n  margin-top: -1px;\n  transition: ease-in-out 125ms;\n  transition-property: background-color, border-color;\n`;\n\nconst Checkbox = styled.input`\n  opacity: 0;\n  margin-right: -15px;\n  & + ${FakeCheckbox}:after {\n    position: absolute;\n    content: '';\n    display: inline-block;\n    height: 4px;\n    width: 8px;\n    border-left: 2px solid;\n    border-bottom: 2px solid;\n    left: 3px;\n    top: 4px;\n    opacity: 0;\n    transform: translate(0px, 2px) rotate(-45deg);\n    transition: ease-in-out 125ms;\n    transition-property: opacity, transform;\n  }\n  &:checked + ${FakeCheckbox}:after {\n    opacity: 1;\n    transform: translate(0px, 0px) rotate(-45deg);\n  }\n  &:checked + ${FakeCheckbox} {\n    background: rgba(0, 0, 0, 0.045);\n    border-color: rgba(0, 0, 0, 0.085);\n  }\n`;\n\nexport function BooleanControl({ control, value }: any) {\n  const htmlFor = `Control${control.id.current}`;\n  return (\n    <BaseControl flexLabel label={control.name} htmlFor={htmlFor}>\n      <Checkbox\n        id={htmlFor}\n        type=\"checkbox\"\n        checked={value}\n        onChange={e => control.set(e.currentTarget.checked)}\n      />\n      <FakeCheckbox htmlFor={htmlFor} />\n    </BaseControl>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Button = styled.button`\n  display: block;\n\n  font-family: sans-serif;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.4);\n\n  display: block;\n  position: relative;\n\n  width: 100%;\n  height: 32px;\n\n  color: #000;\n\n  border: 0;\n  background-color: rgba(0, 0, 0, 0.045);\n  border-radius: 4px;\n  padding: 0 4px;\n`;\n\nexport function ButtonControl({ control }: any) {\n  return (\n    <div style={{ paddingTop: 8, paddingBottom: 8 }}>\n      <Button\n        onClick={() => {\n          if (control.config.onClick) {\n            control.config.onClick();\n          }\n        }}\n      >\n        {control.name}\n      </Button>\n    </div>\n  );\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport { ChromePicker } from 'react-color';\nimport styled from 'styled-components';\nimport { BaseControl } from './BaseControl';\n\nconst ColorPicker = styled.div`\n  position: relative;\n`;\n\nconst ColorBox = styled.div`\n  width: 32px;\n  height: 16px;\n  border: 2px solid white;\n  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.3);\n  cursor: pointer;\n`;\n\nconst Picker = styled.div<{ hidden: boolean }>`\n  position: absolute;\n  top: 24px;\n  right: 0px;\n  z-index: 100;\n`;\n\nexport function ColorControl({ control, value }: any) {\n  const [open, setOpen] = useState(false);\n  const pickerRef = useRef<HTMLDivElement>();\n  const handleClick = (e: any) => {\n    if (pickerRef.current && !pickerRef.current.contains(e.target)) {\n      setOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    document.body.addEventListener('click', handleClick);\n    return () => {\n      document.body.removeEventListener('click', handleClick);\n    };\n  }, []);\n\n  return (\n    <BaseControl label={control.name} flexLabel>\n      <ColorPicker>\n        <ColorBox\n          style={{ backgroundColor: value }}\n          onClick={() => setOpen(lastValue => !lastValue)}\n        />\n        <Picker hidden={open !== true} ref={pickerRef as any}>\n          <ChromePicker\n            color={value}\n            onChange={color => control.set(color.hex)}\n            disableAlpha\n          />\n        </Picker>\n      </ColorPicker>\n    </BaseControl>\n  );\n}\n","import { ControlConfig } from '../types';\n\nexport const defaultConfig = {\n  type: 'number' as 'number',\n  value: 0,\n};\n\nexport const defaultValue = (config: ControlConfig) => {\n  if (typeof config.value !== 'undefined') {\n    return config.value;\n  }\n  switch (config.type) {\n    case 'number':\n      return 0;\n    case 'color':\n      return '#ff0000';\n    case 'string':\n      return '';\n    case 'select':\n      return (config.items || [''])[0];\n    case 'boolean':\n      return false;\n    case 'xypad':\n      return { x: 0, y: 0 };\n  }\n  return 0;\n};\n\nexport const clamp = (num: number, clamp: number, higher: number) =>\n  higher ? Math.min(Math.max(num, clamp), higher) : Math.min(num, clamp);\n\nexport const map = (\n  value: number,\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number\n) => ((value - x1) * (y2 - x2)) / (y1 - x1) + x2;\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { clamp, map } from '../utils';\nimport { BaseControl } from './BaseControl';\n\nconst InputRange = styled.input`\n  -webkit-appearance: none;\n  width: 100%;\n  background: transparent;\n  display: inline-block;\n\n  &:focus {\n    outline: none;\n  }\n\n  &::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 12px;\n    cursor: pointer;\n    background: rgba(0, 0, 0, 0.045);\n    border-radius: 10px;\n  }\n\n  &::-webkit-slider-thumb {\n    border: none;\n    height: 20px;\n    width: 20px;\n    border-radius: 50%;\n    background: #ffffff;\n    cursor: pointer;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.22);\n    -webkit-appearance: none;\n    margin-top: -4px;\n  }\n\n  &:focus::-webkit-slider-runnable-track {\n    outline: none;\n  }\n`;\n\nconst PRECISION = 300;\nconst CENTER = PRECISION / 2;\n\nexport function NumberControl({ control, value }: any) {\n  const ref = useRef<HTMLInputElement | null>(null);\n  const stage = useRef(null);\n  const { config } = control;\n  const {\n    min = config.scrub ? -Infinity : 0,\n    max = config.scrub ? Infinity : Math.PI\n  } = config;\n\n  let distance = config.distance;\n  if (!distance) {\n    distance = config.scrub ? 2 : max - min;\n  }\n  const [val, setVal] = useState(config.scrub ? CENTER : map(value, min, max, 0, PRECISION));\n\n  const handleChange = useCallback(() => {\n    if (config.scrub) {\n      setVal(CENTER);\n      stage.current = null;\n    }\n  }, [config.scrub]);\n\n  useEffect(() => {\n    const el = ref.current;\n    if (el) {\n      el.addEventListener('change', handleChange);\n    }\n    return () => {\n      if (el) {\n        el.removeEventListener('change', handleChange);\n      }\n    };\n  }, [handleChange, ref]);\n\n  return (\n    <BaseControl label={control.name} value={value.toFixed(2)}>\n      <InputRange\n        ref={ref}\n        type=\"range\"\n        value={val}\n        min={0}\n        max={PRECISION}\n        onChange={e => {\n          const num = Number(e.currentTarget.value);\n          setVal(num);\n          if (stage.current === null) {\n            stage.current = value;\n          }\n          const cvalue =\n            (config.scrub ? (stage as any).current : 0) +\n            map(\n              num - (config.scrub ? CENTER : 0),\n              0,\n              PRECISION,\n              config.scrub ? 0 : min,\n              config.scrub ? distance * 2 : max\n            );\n          control.set(clamp(cvalue, min, max));\n        }}\n      />\n    </BaseControl>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { BaseControl } from './BaseControl';\n\nconst Select = styled.select`\n  display: block;\n\n  font-family: sans-serif;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.4);\n\n  display: block;\n  position: relative;\n\n  width: 100%;\n  height: 32px;\n\n  color: #000;\n\n  margin-left: 8px;\n\n  border: 0;\n  background-color: rgba(0, 0, 0, 0.025);\n  border-radius: 4px;\n  padding: 0 4px;\n`;\n\nexport function SelectControl({ control, value }: any) {\n  return (\n    <BaseControl label={control.name}>\n      <Select value={value} onChange={e => control.set(e.currentTarget.value)}>\n        {control.config.items.map((item: string, i: number) => (\n          <option key={i}>{item}</option>\n        ))}\n      </Select>\n    </BaseControl>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { BaseControl } from './BaseControl';\n\nconst Input = styled.input`\n  display: block;\n\n  font-family: sans-serif;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.4);\n\n  display: block;\n  position: relative;\n\n  width: 100%;\n  height: 32px;\n\n  color: #000;\n\n  margin-left: 8px;\n\n  border: 0;\n  background-color: rgba(0, 0, 0, 0.025);\n  border-radius: 4px;\n  padding: 0 4px;\n`;\n\nexport const StringControl = React.memo(({ control, value }: any) => {\n  return (\n    <BaseControl label={control.name}>\n      <Input value={value} onChange={e => control.set(e.target.value)} />\n    </BaseControl>\n  );\n});\n","import React from 'react';\nimport { animated, interpolate, useSpring } from 'react-spring';\nimport { useDrag } from 'react-use-gesture';\nimport { clamp, map } from '../utils';\nimport { BaseControl } from './BaseControl';\n\nconst THRESHOLD = 0.00001;\n\nexport const XYPadControl = React.memo(({ control, value }: any) => {\n  const ref = React.useRef<SVGElement>();\n  const stage = React.useRef(null);\n  const { distance = 1, scrub = false } = control.config;\n  const [{ width, height }] = React.useState({ width: 270, height: 152 });\n  const [cursor, setCursor] = useSpring(() => ({\n    from: {\n      x: value.x,\n      y: value.y,\n    },\n    onFrame({ x, y }: any) {\n      if (!scrub) {\n        const vx = clamp(map(x, 0, width / 2, 0, distance), -distance, distance) || 0;\n        const vy = clamp(map(y, 0, height / 2, 0, distance), -distance, distance) || 0\n        control.set(() => ({\n          x: vx < THRESHOLD && vx > -THRESHOLD ? 0 : vx,\n          y: vy < THRESHOLD && vy > -THRESHOLD ? 0 : vy,\n        }));\n      }\n    },\n  }));\n\n  const bind = useDrag(({ down, movement }) => {\n    if (down && !stage.current) {\n      stage.current = value;\n    } else if (!down) {\n      stage.current = null;\n    }\n    setCursor({ x: down ? movement[0] : 0, y: down ? movement[1] : 0 });\n    if (scrub && down) {\n      control.set(() => ({\n        x:\n          (stage as any).current.x +\n          map(movement[0], 0, width / 2, 0, distance),\n        y:\n          (stage as any).current.y +\n          map(movement[1], 0, height / 2, 0, distance),\n      }));\n    }\n  });\n\n  const x = cursor.x.interpolate((n: number) => clamp(n + width / 2, 0, width));\n  const y = cursor.y.interpolate((n: number) => clamp(n + height / 2, 0, height));\n\n  return (\n    <BaseControl\n      stack\n      label={control.name}\n      value={`x: ${value.x.toFixed(1)}, y: ${value.y.toFixed(1)}`}\n    >\n      <animated.svg\n        ref={ref as any}\n        style={{\n          userSelect: 'none',\n          borderRadius: 8,\n          border: '1px solid #f0f0f0',\n        }}\n        width={width}\n        height={height}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...bind()}\n      >\n        <rect fill=\"rgb(250, 250, 250)\" width=\"100%\" height=\"100%\" />\n        <animated.line x1={x} x2={x} y1={0} y2=\"100%\" stroke=\"#ccc\" />\n        <animated.line x1={0} x2=\"100%\" y1={y} y2={y} stroke=\"#ccc\" />\n        <animated.g\n          style={{\n            transform: interpolate([x, y], (x, y) => `translate(${x}px, ${y}px)`),\n          }}\n        >\n          <circle r={8} fill=\"#ccc\" />\n          <circle r={4} fill=\"#aaa\" />\n        </animated.g>\n      </animated.svg>\n    </BaseControl>\n  );\n});\n\n// (XYPadControl as any).skipEvents = true;","import React, { useEffect, useState } from 'react';\nimport { BooleanControl } from '../controls/BooleanControl';\nimport { ButtonControl } from '../controls/ButtonControl';\nimport { ColorControl } from '../controls/ColorControl';\nimport { NumberControl } from '../controls/NumberControl';\nimport { SelectControl } from '../controls/SelectControl';\nimport { StringControl } from '../controls/StringControl';\nimport { XYPadControl } from '../controls/XYPadControl';\nimport { defaultValue } from '../utils';\n\nconst ControlType = {\n  number: NumberControl,\n  boolean: BooleanControl,\n  select: SelectControl,\n  color: ColorControl,\n  string: StringControl,\n  button: ButtonControl,\n  xypad: XYPadControl,\n};\n\nexport function ControlItem({ control }: any) {\n  const Control =\n    control.config.component || (ControlType as any)[control.config.type];\n  const [value, setValue] = useState(defaultValue(control.config));\n  useEffect(() => {\n    control.addEventListener(setValue);\n  }, []);\n  if (!Control) return null;\n  return <Control key={control.id.current} control={control} value={value} />;\n}","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { ControlItem } from './ControlItem';\n\nconst Heading = styled.h2<{ open: boolean }>`\n  display: block;\n  font-family: sans-serif;\n  font-size: 13px;\n  font-weight: bold;\n  padding-left: 16px;\n  cursor: pointer;\n  position: relative;\n  user-select: none;\n\n  &:before,\n  &:after {\n    content: \"\";\n    position: absolute;\n    top: 8px;\n    right: 16px;\n    width: 12px;\n    height: 2px;\n    background-color: #333;\n    /* transition: transform 0.25s ease-out; */\n  }\n  &:before {\n    transform: rotate(${props => props.open ? 0 : 90}deg);\n  }\n\n  &:after{\n    transform: rotate(${props => props.open ? 0 : 180}deg);\n  }\n`;\n\nconst Container = styled.div<{ open: boolean, bg: boolean }>`\n  background: ${props => props.bg ? '#f9f9f9' : '#fff'};\n  padding: 16px;\n  display: ${props => props.open ? 'block' : 'none'};\n  margin-bottom: 8px;\n`;\n\nexport const ControlGroup = ({ title, controls }: any) => {\n  const [open, setOpen] = useState(true);\n  const isDefault = title !== 'DEFAULT_GROUP';\n  return (\n    <div>\n      {isDefault && <Heading open={open} onClick={() => setOpen(o => !o)}>{title}</Heading>}\n      <Container open={open} bg={isDefault}>\n        {Array.from(controls).map(([id, control]: any) => (\n          <ControlItem key={id.current} control={control} />\n        ))}\n      </Container>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { animated, interpolate, useSpring } from 'react-spring';\nimport { useDrag } from 'react-use-gesture';\nimport styled from 'styled-components';\nimport { ControlGroup } from './components/ControlGroup';\nimport { controls, controlsEmitter } from './index';\nimport { clamp } from './utils';\n\nconst WIDTH = 300;\n\nconst Float = styled(animated.div)`\n  display: block;\n  position: fixed;\n  top: 16px;\n  right: 16px;\n  width: ${WIDTH}px;\n  border-radius: 16px;\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.12);\n`;\n\nconst Header = styled(animated.div)`\n  display: flex;\n  align-items: center;\n  padding-left: 16px;\n  padding-right: 16px;\n  height: 42px;\n  font-family: sans-serif;\n  font-size: 14px;\n  color: #fff;\n  cursor: move;\n  cursor: grab;\n  user-select: none;\n  background-color: #000;\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n  box-shadow: 0 0 14px 0 rgba(0, 0, 0, 0.14);\n`;\n\nconst Items = styled.div`\n  padding-bottom: 8px;\n`;\n\nconst DEFAULT_GROUP = 'DEFAULT_GROUP';\n\nconst groupByGroup = (items: any): any => {\n  return Array.from(items).reduce((acc: any, item: any) => {\n    const groupName = item[1].config.group || DEFAULT_GROUP;\n    acc[groupName] = acc[groupName] || [];\n    acc[groupName].push(item);\n    return acc;\n  }, {} as { [key: string]: any });\n}\n\nexport const Controls = React.memo(() => {\n  const [{ pos }, setPos] = useSpring(() => ({ pos: [0, 0] }));\n  const bind = useDrag(({ movement, memo = ((pos as any).getValue ? (pos as any).getValue() : (pos as any).get()) }) => {\n    setPos({\n      pos: [\n        clamp(movement[0] + memo[0], -window.innerWidth + WIDTH + 32, 1),\n        clamp(movement[1] + memo[1], 0, window.innerHeight - 350),\n      ],\n    });\n    return memo;\n  });\n  const [, set] = useState<number>(0);\n\n  useEffect(() => {\n    controlsEmitter.update = () => {\n      set(n => n + 1);\n      return null;\n    };\n  }, []);\n\n  return (\n    <Float\n      style={{\n        transform: interpolate(\n          [pos],\n          ([x, y]) => `translate3d(${x}px,${y}px,0)`\n        ),\n      }}\n    >\n      <Header {...bind()} />\n      <Items>\n        {Object.entries(groupByGroup(controls)).map(([groupName, items]: any) => (\n          <ControlGroup key={groupName} title={groupName} controls={items} />\n        ))}\n      </Items>\n    </Float>\n  );\n});\n","import { useEffect, useRef, useState } from 'react';\nimport { useSpring } from 'react-spring/three';\nimport { controls, controlsEmitter } from '../index';\nimport { ControlConfig, ControlItem } from '../types';\nimport { defaultConfig, defaultValue } from '../utils';\n\nlet uid = 0;\n\nexport const useControl = (\n  name: string,\n  config: ControlConfig = defaultConfig\n) => {\n  const id = useRef(uid++);\n  const listener = useRef<Function>();\n  let [value, set] = useState(defaultValue(config));\n\n  const [spring, setSpring] = useSpring(() => ({\n    value,\n    config: typeof config.spring === 'object' ? config.spring : undefined,\n  }));\n\n  if (config.state) {\n    value = config.state[0];\n    set = config.state[1];\n  }\n\n  useEffect(() => {\n    const control: ControlItem = {\n      id,\n      name,\n      set,\n      value,\n      config,\n      addEventListener(fn: Function) {\n        listener.current = fn;\n      },\n    };\n    controls.set(id, control);\n    controlsEmitter.update();\n    return () => {\n      controls.delete(id);\n      controlsEmitter.update();\n    };\n  }, []);\n\n  useEffect(() => {\n    config.spring && void setSpring({ value });\n    listener.current && void listener.current(value);\n    config.onChange && void config.onChange(value);\n  }, [value]);\n\n  if (config.spring) {\n    return spring.value;\n  }\n\n  return value;\n};\n","import { ControlId, ControlItem } from './types';\nexport { Controls } from './Controls';\nexport { useControl } from './hooks/useControl';\nexport const controlsEmitter = { update: () => null };\nexport const controls = new Map<ControlId, ControlItem>();\n"],"names":["Row","styled","div","Label","label","props","flexLabel","Content","Value","stack","BaseControl","htmlFor","value","children","React","FakeCheckbox","_templateObject","Checkbox","input","_templateObject2","BooleanControl","control","id","current","name","type","checked","onChange","e","set","currentTarget","Button","button","ButtonControl","style","paddingTop","paddingBottom","onClick","config","ColorPicker","ColorBox","Picker","_templateObject3","ColorControl","useState","open","setOpen","pickerRef","useRef","handleClick","contains","target","useEffect","document","body","addEventListener","removeEventListener","backgroundColor","lastValue","hidden","ref","ChromePicker","color","hex","disableAlpha","defaultConfig","defaultValue","items","x","y","clamp","num","higher","Math","min","max","map","x1","y1","x2","y2","InputRange","PRECISION","CENTER","NumberControl","stage","scrub","Infinity","PI","distance","val","setVal","handleChange","useCallback","el","toFixed","Number","cvalue","Select","select","SelectControl","item","i","key","Input","StringControl","memo","THRESHOLD","XYPadControl","width","height","useSpring","from","onFrame","vx","vy","cursor","setCursor","bind","useDrag","down","movement","interpolate","n","animated","svg","userSelect","borderRadius","border","xmlns","fill","line","stroke","g","transform","r","ControlType","number","string","xypad","ControlItem","Control","component","setValue","Heading","h2","Container","bg","ControlGroup","title","controls","isDefault","o","Array","WIDTH","Float","Header","Items","DEFAULT_GROUP","groupByGroup","reduce","acc","groupName","group","push","Controls","pos","setPos","getValue","get","window","innerWidth","innerHeight","controlsEmitter","update","Object","entries","uid","useControl","listener","spring","undefined","setSpring","state","fn","Map"],"mappings":"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"}